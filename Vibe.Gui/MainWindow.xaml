<Window x:Class="Vibe.Gui.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:avalonEdit="http://icsharpcode.net/sharpdevelop/avalonedit"
        Title="Vibe Decompiler" Height="450" Width="800" Background="#FFFFFF" Icon="{StaticResource AppIconImage}"
        AllowDrop="True" PreviewKeyDown="Window_PreviewKeyDown"
        DragOver="Window_DragOver" Drop="Window_Drop">
    <Window.Resources>
        <SolidColorBrush x:Key="AccentBrush" Color="#C6DC1D" />
        <SolidColorBrush x:Key="PanelBrush" Color="#EEEEEE" />
        <SolidColorBrush x:Key="TextBrush" Color="#2D4D78" />
        <Storyboard x:Key="StripeAnimation" RepeatBehavior="Forever">
            <DoubleAnimation Storyboard.TargetName="StripeTransform"
                             Storyboard.TargetProperty="X"
                             From="0" To="1" Duration="0:0:1.2" />
        </Storyboard>
    </Window.Resources>
    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_File">
                <MenuItem Header="_Open..." Click="OpenDll_Click" />
                <MenuItem Header="Recent _Files" x:Name="RecentFilesMenu" IsEnabled="False" />
                <Separator />
                <MenuItem Header="E_xit" Click="Exit_Click" />
            </MenuItem>
            <MenuItem Header="_Help">
                <MenuItem Header="_About" Click="About_Click" />
            </MenuItem>
        </Menu>
        <ProgressBar x:Name="BusyBar" DockPanel.Dock="Bottom" Height="4" IsIndeterminate="True" Visibility="Collapsed"/>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="250" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <TreeView x:Name="DllTree" Grid.Column="0" Margin="4" Background="{StaticResource PanelBrush}" SelectedItemChanged="DllTree_SelectedItemChanged" KeyDown="DllTree_KeyDown" />
            <Grid Grid.Column="1" Margin="4">
                <avalonEdit:TextEditor x:Name="OutputBox" FontFamily="Consolas" IsReadOnly="True" ShowLineNumbers="True"
                                       VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto"
                                       Foreground="{StaticResource TextBrush}" Background="#FFFFFF" />
                <Border x:Name="RewriteOverlay" Visibility="Collapsed">
                    <Border.Background>
                        <LinearGradientBrush x:Name="StripeBrush" StartPoint="0,0" EndPoint="1,0" SpreadMethod="Repeat">
                            <GradientStop Color="#26FFFFFF" Offset="0" />
                            <GradientStop Color="#0DFFFFFF" Offset="0.5" />
                            <GradientStop Color="#26FFFFFF" Offset="1" />
                            <LinearGradientBrush.RelativeTransform>
                                <TransformGroup>
                                    <RotateTransform Angle="135" />
                                    <TranslateTransform x:Name="StripeTransform" />
                                </TransformGroup>
                            </LinearGradientBrush.RelativeTransform>
                        </LinearGradientBrush>
                    </Border.Background>
                    <TextBlock Text="Refining with AI" HorizontalAlignment="Center" VerticalAlignment="Center"
                               Foreground="#80808080" FontSize="48" FontWeight="Bold" FontFamily="Arial Black" AutomationProperties.LiveSetting="Polite">
                        <TextBlock.Effect>
                            <DropShadowEffect BlurRadius="2" ShadowDepth="0" />
                        </TextBlock.Effect>
                    </TextBlock>
                </Border>
            </Grid>
        </Grid>
    </DockPanel>
</Window>
